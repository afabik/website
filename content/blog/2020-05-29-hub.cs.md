---
title: HARDWARIO Hub
meta_title: Průmyslové IoT bez starostí za 250 Kč měsíčně | HARDWARIO
meta_description:  Revoluční způsob pořízení a provozu průmyslových IoT zařízení, který výrazně minimalizuje riziko promarněné investice.
draft: false
date: 2020-05-29
description: Revoluční způsob pořízení a provozu průmyslových IoT zařízení, který výrazně minimalizuje riziko promarněné investice.
image_preview: https://res.cloudinary.com/lukasfabik/image/upload/v1590659613/blog/2020-05-14-lorawan-mikrotik-chirpstack/lorawan.png
image_main: https://res.cloudinary.com/lukasfabik/image/upload/v1590659616/blog/2020-05-14-lorawan-mikrotik-chirpstack/lorawan_wide.png
author: martin_hubacek
---

V rámci interního hackathonu jsme se rozhodli vytvořit virtuální hub, kde by si kdokoliv přes naši webkameru mohl vyzkoušet práci s HARDWARIO Kitem. Náš HARDWARIO Playground v sobě obsahuje Node-RED, MQTT broker a gateway, která komunikuje přes Radio Dongle s jednotlivými nody.

K tomu, aby k jednomu kitu mohlo přistupovat více lidí jsme použili Docker kontejnery. Každý kontejner v sobě obsahuje Node-RED a Mosquitto MQTT brokera. Tento kontejner je možné spustit dynamicky vícekrát a zároveň tak může více návštěvníků ovládat a vyčítat hodnoty z našeho IoT Kitu.

K tomu, aby se návštěvník dostal ke svému virtuálnímu hubu a dockeru je potřeba routing HTTP požadavků. Pro tento účel jsme použili nástroj Traefik, který automaticky sleduje spuštěné dockery a pokud nějaký nový nastartuje, tak mu automaticky vytvoří HTTP cestu a přesměruje na ni návštěvníka.

V základu je v našem virtuálním hubu Climate Kit a LED pásek. Climate posílá pravidelně naměřené hodnoty do všech instancí. Zpátky je možné ovládat LED pásek a sledovat jeho chování přes veřejnou webkameru. U LED pásku jsme se rozhodli že je potřeba jej sdílet, a tak každý návštěvnít dostane “přidělen” kousek pásku na kterém si může měnit barvy a pouštět efekty. K tomuto účelu jsme vytvořili malý Python skript, který je takovým MQTT routerem a překládá požadavky na barvy z jednotlivých instancí. Tváří se jako virtuální LED pásek a barvy nastavuje na části fyzického pásku.

Kvůli náročnosti Node-RED na RAM je nastaveno omezení na počet instancí v naší VPN a každá instance má taky nastavenou svoji životnost. Po uplynutí doby se instance ukončí a je taky možnost stáhnout si svoji práci pro případný import v budoucnu.
